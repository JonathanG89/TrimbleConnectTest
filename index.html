<!DOCTYPE html>
<html>
<head>
	<title>My JavaScript Project</title>
</head>
<body>
	
	<!-- <script type="text/javascript" src="https://jonathang89.github.io/TrimbleConnectTest/script.js" /> -->

	<script type="text/javascript" src="https://components.connect.trimble.com/trimble-connect-workspace-api/index.js"></script>
  
<script type="text/javascript">
    console.log("Test log");

    getData();

    async function getData() {
     API = await TrimbleConnectWorkspace.connect(window.parent, (event, data) => {
      console.log("Event: ", event, data);
     });

     API.project.getProject().then(project => {
      console.log(project); // Trimble Connect project details
     });
	    
     //Request for the access token.
     API.extension.requestPermission("accesstoken").then(accessToken => {
      //Current user access token or status: accessToken
      console.log(accessToken);
     });
    }
 </script>
	
</body>
</html>
